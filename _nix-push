#compdef nix-push
#autoload

_nix-common-options

_arguments \
  '--dest[set the destination directory]:Destination directory:_path_files -/'\
  '(--none)--bzip2[compress NARs using bzip2 instead of xz -9]'\
  '(--bzip2)--none[do not compress NARs]'\
  '--force[overwrite .narinfo files if they already exist]'\
  '--link[hard link files into the destination directory rather than copying]'\
  '(--manifest-path)--manifest[force the generation of a manifest suitable for use by nix-pull]'\
  '(--manifest)--manifest-path[like --manifest, but specify the manifest filename]:Manifest filename:_files'\
  '--url-prefix[specify the prefix URL used in the Manifest]:Prefix URL:_urls'\
  '*:Derivation Paths:_files'
